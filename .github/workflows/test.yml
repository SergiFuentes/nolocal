name: CI
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]
  workflow_dispatch:

jobs:
  Full-Pipeline:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout project
        uses: actions/checkout@v2
      - name: Gradlew Check
        run: | 
           chmod +x ./gradlew
           ./gradlew check
      - name: Create Manual Approval Issue
        uses: toppulous/create-manual-approval-issue@v1
        with:
          label: approval-$BUILD_NUMBER
      - name: Deploy
        run: echo deploying!
